{% load static%}
<!DOCTYPE html>
<html lang="pt-br">

    <head>
        {%include 'parciais/_head.html'%}
        <title>Petsystem</title>
    </head>

    <body>
    {%include 'parciais/_nav.html'%}
    {%include 'parciais/_side.html'%}
    <!-- Load Screen -->
    <div id="loader-wrapper" class="active">
        <div class="loader"></div>
    </div>
    <!-- Page Content -->
        <div class="pages">
            <main id="container">
            </main>
            {%include 'parciais/default.html'%}
            <footer>Copyright © 2021 A.Z.X. Consultoria</footer>
        </div>
        <!-- Modals Screen -->
        <div id="concluded" class="modal-wrapper" onclick="this.classList.remove('active')"> 
            <div class="modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16" style="color: green;">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                    <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
                </svg>
                <h1 class="modal_title">OPERAÇÃO CONCLUÍDA!</h1>
            </div>
        </div>
        <div id="aborted" class="modal-wrapper" onclick="this.classList.remove('active')"> 
            <div class="modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16" style="color: red;">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg>
                <h1 class="modal_title">OPERAÇÃO CANCELADA!</h1>
            </div>
        </div>
        <div id="failed" class="modal-wrapper" onclick="this.classList.remove('active')"> 
            <div class="modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16" style="color: yellow;">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                    <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
                </svg>
                <h1 class="modal_title">DADOS JÁ CADASTRADOS!</h1>
            </div>
        </div>
    </body>

    <script>
        // FUNCTION TO SHOW THE LOAD SCREEN
        window.addEventListener('load', () => setTimeout(function(){
            $('#loader-wrapper').fadeOut("fast");
        }, 1000));

        // FUNCTION TO RESIZE THE PAGE WHEN SIDEBAR IS OPEN/HIDE
        function resizePage(){
            if(document.getElementById('check').checked){
                document.getElementsByClassName('pages')[0].style.transform = 'scaleX(0.79) translateX(13.2vw) ';
            }else{
                document.getElementsByClassName('pages')[0].style.transform = '';
            }
        }

        // FUNCTION TO OPEN THE PAGES ACCORDING MENU SELECTION
        function openPage(operation){
            $('#standby').addClass('blur');
            switch (operation){
                case 1:
                    $.ajax({
                        url: "/cad_user",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 2:
                    $.ajax({
                        url: "/cad_product",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 3:
                    $.ajax({
                        url: "/cad_forn",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 4:
                    $.ajax({
                        url: "/cad_entrada",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 5:
                    $.ajax({
                        url: "/cad_saida",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 6:
                    $.ajax({
                        url: "/cons_user",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 7:
                    $.ajax({
                        url: "/cons_product",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 8:
                    $.ajax({
                        url: "/cons_forn",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 9:
                    $.ajax({
                        url: "/cons_entrada",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                case 10:
                    $.ajax({
                        url: "/cons_saida",
                        type: "GET",
                        success: function(data){
                            $("#container").html(data);
                        }
                    })
                break;
                default:
                    console.log('Nenhuma Página Aberta');
            };
        }

        // FUNCTION TO SHOW MODAL SUCESS
        function operacaoRealizada(obj){
            obj.remove();
            modal = document.getElementById('concluded');
            modal.classList.add('active');
            $('#standby').removeClass('blur');
            setTimeout(function(){
                modal.classList.remove('active');
            }, 2000)
        }

        // FUNCTION TO SHOW MODAL FAILED
        function operacaoAbortada(obj){
            obj.parentElement.remove();
            modal = document.getElementById('aborted');
            modal.classList.add('active');
            $('#standby').removeClass('blur');
            setTimeout(function(){
                modal.classList.remove('active');
            }, 3000)
        }
    </script>
    
    <!-- link to Jquery Library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


</html>